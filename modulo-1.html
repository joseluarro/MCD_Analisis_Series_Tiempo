<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Modulo 1 | Propuesta Bookdown</title>
  <meta name="description" content="3 Modulo 1 | Propuesta Bookdown" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Modulo 1 | Propuesta Bookdown" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Modulo 1 | Propuesta Bookdown" />
  
  
  

<meta name="author" content="Jose Luis Arroyave Capera" />


<meta name="date" content="2023-04-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html"/>
<link rel="next" href="modulo-2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="propuesta-bookdown.html"><a href="propuesta-bookdown.html"><i class="fa fa-check"></i><b>1</b> Propuesta Bookdown</a></li>
<li class="chapter" data-level="2" data-path="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html"><a href="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html"><i class="fa fa-check"></i><b>2</b> Prediccion del precio de la Maracuya para el Valle del Cauca</a>
<ul>
<li class="chapter" data-level="2.1" data-path="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html"><a href="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html#motivación"><i class="fa fa-check"></i><b>2.1</b> Motivación</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modulo-1.html"><a href="modulo-1.html"><i class="fa fa-check"></i><b>3</b> Modulo 1</a>
<ul>
<li class="chapter" data-level="3.1" data-path="modulo-1.html"><a href="modulo-1.html#unidad-1-motivacion"><i class="fa fa-check"></i><b>3.1</b> Unidad 1: Motivacion</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="modulo-1.html"><a href="modulo-1.html#historico-de-precios-del-maracuya"><i class="fa fa-check"></i><b>3.1.1</b> Historico de precios del Maracuya</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="modulo-1.html"><a href="modulo-1.html#unidad-2-estructura-de-los-datos"><i class="fa fa-check"></i><b>3.2</b> Unidad 2: Estructura de los datos</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="modulo-1.html"><a href="modulo-1.html#estructura-de-los-datos-en-series-de-tiempo-precios-valle"><i class="fa fa-check"></i><b>3.2.1</b> Estructura de los datos en series de tiempo (precios Valle)</a></li>
<li class="chapter" data-level="3.2.2" data-path="modulo-1.html"><a href="modulo-1.html#estructura-de-los-datos-en-series-de-tiempo-precios-passion"><i class="fa fa-check"></i><b>3.2.2</b> Estructura de los datos en series de tiempo (precios Passion)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="modulo-1.html"><a href="modulo-1.html#unidad-3-preprocesamiento-y-visualización"><i class="fa fa-check"></i><b>3.3</b> Unidad 3: Preprocesamiento y Visualización</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="modulo-1.html"><a href="modulo-1.html#preprocesamiento-y-visualización"><i class="fa fa-check"></i><b>3.3.1</b> Preprocesamiento y visualización</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modulo-2.html"><a href="modulo-2.html"><i class="fa fa-check"></i><b>4</b> Modulo 2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modulo-2.html"><a href="modulo-2.html#unidad-1-introduccion-a-los-modelos-de-pronostico"><i class="fa fa-check"></i><b>4.1</b> Unidad 1: Introduccion a los modelos de pronostico</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="modulo-2.html"><a href="modulo-2.html#metodologia-holt-winter"><i class="fa fa-check"></i><b>4.1.1</b> <strong>Metodologia Holt-Winter</strong></a></li>
<li class="chapter" data-level="4.1.2" data-path="modulo-2.html"><a href="modulo-2.html#metodoligia-de-suavizamiento-a-la-variable-tiempo"><i class="fa fa-check"></i><b>4.1.2</b> Metodoligia de Suavizamiento a la variable Tiempo</a></li>
<li class="chapter" data-level="4.1.3" data-path="modulo-2.html"><a href="modulo-2.html#conclusiones-de-aplicacion-de-metodos"><i class="fa fa-check"></i><b>4.1.3</b> Conclusiones de Aplicacion de Metodos</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="modulo-2.html"><a href="modulo-2.html#unidad-2-modelos-estacionarios"><i class="fa fa-check"></i><b>4.2</b> Unidad 2: Modelos Estacionarios</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="modulo-2.html"><a href="modulo-2.html#metodología-box-jenkins"><i class="fa fa-check"></i><b>4.2.1</b> <strong>Metodología Box-Jenkins</strong></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="modulo-2.html"><a href="modulo-2.html#unidad-3-regresión"><i class="fa fa-check"></i><b>4.3</b> Unidad 3: Regresión</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="modulo-2.html"><a href="modulo-2.html#modelo-propeth"><i class="fa fa-check"></i><b>4.3.1</b> Modelo Propeth</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modulo-3.html"><a href="modulo-3.html"><i class="fa fa-check"></i><b>5</b> Modulo 3</a>
<ul>
<li class="chapter" data-level="5.1" data-path="modulo-3.html"><a href="modulo-3.html#unidad-1-redes-neuronales-recurrentes"><i class="fa fa-check"></i><b>5.1</b> Unidad 1: Redes Neuronales Recurrentes</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="modulo-3.html"><a href="modulo-3.html#rn-elman"><i class="fa fa-check"></i><b>5.1.1</b> RN Elman</a></li>
<li class="chapter" data-level="5.1.2" data-path="modulo-3.html"><a href="modulo-3.html#rn-jordan"><i class="fa fa-check"></i><b>5.1.2</b> RN Jordan</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Propuesta Bookdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modulo-1" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Modulo 1<a href="modulo-1.html#modulo-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="unidad-1-motivacion" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Unidad 1: Motivacion<a href="modulo-1.html#unidad-1-motivacion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="historico-de-precios-del-maracuya" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Historico de precios del Maracuya<a href="modulo-1.html#historico-de-precios-del-maracuya" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="modulo-1.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="modulo-1.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="modulo-1.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="modulo-1.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="modulo-1.html#cb1-5" aria-hidden="true" tabindex="-1"></a>df_precios_historicos <span class="op">=</span> pd.read_excel(<span class="st">&quot;historico_precios_maracuya.xlsx&quot;</span>, sheet_name<span class="op">=</span><span class="st">&quot;Hoja1&quot;</span>)</span>
<span id="cb1-6"><a href="modulo-1.html#cb1-6" aria-hidden="true" tabindex="-1"></a>df_precios_passion <span class="op">=</span> pd.read_excel(<span class="st">&quot;INFORME_PRODUCCION.xlsx&quot;</span>, sheet_name<span class="op">=</span><span class="st">&quot;TOTALIZADO&quot;</span>)</span>
<span id="cb1-7"><a href="modulo-1.html#cb1-7" aria-hidden="true" tabindex="-1"></a>df_precios_datos <span class="op">=</span> pd.read_excel(<span class="st">&quot;historico_precios_maracuya.xlsx&quot;</span>, sheet_name<span class="op">=</span><span class="st">&quot;Hoja3&quot;</span>)</span>
<span id="cb1-8"><a href="modulo-1.html#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="modulo-1.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_historicos.head())</span></code></pre></div>
<pre><code>##        fecha  precio_cali_cavasa  ...  precio_tulua   prom_valle
## 0 2021-01-08              2308.0  ...        2250.0  2334.666667
## 1 2021-01-15              2092.0  ...        2183.0  2252.166667
## 2 2021-01-22              2083.0  ...        2033.0  2216.500000
## 3 2021-01-29              2017.0  ...        1800.0  2162.500000
## 4 2021-02-05              2071.0  ...        1967.0  2150.833333
## 
## [5 rows x 8 columns]</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="modulo-1.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_passion.head())</span></code></pre></div>
<pre><code>##        FECHA                FACTURA NO.  ...  VR TOTAL         LOTE
## 0 2021-08-04   No.  001       CORRIENTE  ...   95600.0  LIBANO No.1
## 1 2021-08-04  No.  001       INDUSTRIAL  ...   72000.0  LIBANO No.1
## 2 2021-08-06   No.  002       CORRIENTE  ...  148580.0  LIBANO No.1
## 3 2021-08-06  No.  002       INDUSTRIAL  ...    8736.0  LIBANO No.1
## 4 2021-08-09   No.  003       CORRIENTE  ...  285470.0  LIBANO No.1
## 
## [5 rows x 6 columns]</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="modulo-1.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_datos.head())</span></code></pre></div>
<pre><code>##    Unnamed: 0          ene          feb  ...          oct          nov          dic
## 0        2021  2241.458333  2223.291667  ...  3082.566667  2925.222222  3017.466667
## 1        2022  3052.791667  3472.583333  ...  3954.208333  3652.625000  3613.800000
## 2        2023  3540.625000  4270.916667  ...          NaN          NaN          NaN
## 
## [3 rows x 13 columns]</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="modulo-1.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_historicos.info())</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 123 entries, 0 to 122
## Data columns (total 8 columns):
##  #   Column               Non-Null Count  Dtype         
## ---  ------               --------------  -----         
##  0   fecha                123 non-null    datetime64[ns]
##  1   precio_cali_cavasa   122 non-null    float64       
##  2   precio_cali_s.elena  123 non-null    int64         
##  3   precio_cartago       118 non-null    float64       
##  4   precio_btura         118 non-null    float64       
##  5   precio_palmira       119 non-null    float64       
##  6   precio_tulua         120 non-null    float64       
##  7   prom_valle           123 non-null    float64       
## dtypes: datetime64[ns](1), float64(6), int64(1)
## memory usage: 7.8 KB
## None</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="modulo-1.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_passion.info())</span></code></pre></div>
<pre><code>## &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
## RangeIndex: 2156 entries, 0 to 2155
## Data columns (total 6 columns):
##  #   Column          Non-Null Count  Dtype         
## ---  ------          --------------  -----         
##  0   FECHA           2156 non-null   datetime64[ns]
##  1   FACTURA NO.     2156 non-null   object        
##  2   CANTIDAD KILOS  2156 non-null   float64       
##  3   VALOR KILO      2156 non-null   float64       
##  4   VR TOTAL        2156 non-null   float64       
##  5   LOTE            2156 non-null   object        
## dtypes: datetime64[ns](1), float64(3), object(2)
## memory usage: 101.2+ KB
## None</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="modulo-1.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_historicos.shape)</span></code></pre></div>
<pre><code>## (123, 8)</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="modulo-1.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_passion.shape)</span></code></pre></div>
<pre><code>## (2156, 6)</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="modulo-1.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_historicos[<span class="st">&quot;prom_valle&quot;</span>].describe())</span></code></pre></div>
<pre><code>## count     123.000000
## mean     3399.417344
## std       830.841951
## min      1946.666667
## 25%      2963.416667
## 50%      3358.666667
## 75%      3778.250000
## max      5989.000000
## Name: prom_valle, dtype: float64</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="modulo-1.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_precios_passion[<span class="st">&quot;VALOR KILO&quot;</span>].describe())</span></code></pre></div>
<pre><code>## count    2156.000000
## mean     2900.891430
## std       751.650055
## min       800.000000
## 25%      2400.000000
## 50%      2800.000000
## 75%      3400.000000
## max      5600.000000
## Name: VALOR KILO, dtype: float64</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="modulo-1.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular media por fecha</span></span>
<span id="cb19-2"><a href="modulo-1.html#cb19-2" aria-hidden="true" tabindex="-1"></a>df_precios_passion_mean <span class="op">=</span> df_precios_passion.set_index(<span class="st">&#39;FECHA&#39;</span>)</span>
<span id="cb19-3"><a href="modulo-1.html#cb19-3" aria-hidden="true" tabindex="-1"></a>df_precios_media <span class="op">=</span> df_precios_passion_mean.groupby(pd.Grouper(freq<span class="op">=</span><span class="st">&#39;M&#39;</span>)).mean()</span>
<span id="cb19-4"><a href="modulo-1.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="modulo-1.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Graficar datos y línea de tendencia</span></span>
<span id="cb19-6"><a href="modulo-1.html#cb19-6" aria-hidden="true" tabindex="-1"></a>df_precios_passion.plot(x<span class="op">=</span><span class="st">&quot;FECHA&quot;</span>, y<span class="op">=</span><span class="st">&quot;VALOR KILO&quot;</span>)</span>
<span id="cb19-7"><a href="modulo-1.html#cb19-7" aria-hidden="true" tabindex="-1"></a>df_precios_media.plot(y<span class="op">=</span><span class="st">&quot;VALOR KILO&quot;</span>, ax<span class="op">=</span>plt.gca(), color<span class="op">=</span><span class="st">&#39;red&#39;</span>)</span>
<span id="cb19-8"><a href="modulo-1.html#cb19-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
</div>
<div id="unidad-2-estructura-de-los-datos" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Unidad 2: Estructura de los datos<a href="modulo-1.html#unidad-2-estructura-de-los-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="estructura-de-los-datos-en-series-de-tiempo-precios-valle" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Estructura de los datos en series de tiempo (precios Valle)<a href="modulo-1.html#estructura-de-los-datos-en-series-de-tiempo-precios-valle" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="medias-moviles" class="section level4 hasAnchor" number="3.2.1.1">
<h4><span class="header-section-number">3.2.1.1</span> Medias Moviles<a href="modulo-1.html#medias-moviles" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="modulo-1.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb20-2"><a href="modulo-1.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tsa.seasonal <span class="im">import</span> seasonal_decompose</span>
<span id="cb20-3"><a href="modulo-1.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb20-4"><a href="modulo-1.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.graphics.tsaplots <span class="im">import</span> plot_acf</span>
<span id="cb20-5"><a href="modulo-1.html#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="modulo-1.html#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="modulo-1.html#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar valores faltantes</span></span>
<span id="cb20-8"><a href="modulo-1.html#cb20-8" aria-hidden="true" tabindex="-1"></a>df_precios_historicos.fillna(df_precios_historicos.mean(), inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-9"><a href="modulo-1.html#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="modulo-1.html#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular promedio móvil</span></span></code></pre></div>
<pre><code>## &lt;string&gt;:1: FutureWarning: DataFrame.mean and DataFrame.median with numeric_only=None will include datetime64 and datetime64tz columns in a future version.</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="modulo-1.html#cb22-1" aria-hidden="true" tabindex="-1"></a>df_precios_historicos[<span class="st">&#39;promedio_movil&#39;</span>] <span class="op">=</span> df_precios_historicos[<span class="st">&#39;prom_valle&#39;</span>].rolling(window<span class="op">=</span><span class="dv">3</span>).mean()</span>
<span id="cb22-2"><a href="modulo-1.html#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="modulo-1.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de la serie de tiempo con el promedio móvil</span></span>
<span id="cb22-4"><a href="modulo-1.html#cb22-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb22-5"><a href="modulo-1.html#cb22-5" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>df_precios_historicos, x<span class="op">=</span><span class="st">&#39;fecha&#39;</span>, y<span class="op">=</span><span class="st">&#39;prom_valle&#39;</span>, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb22-6"><a href="modulo-1.html#cb22-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>df_precios_historicos, x<span class="op">=</span><span class="st">&#39;fecha&#39;</span>, y<span class="op">=</span><span class="st">&#39;promedio_movil&#39;</span>, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb22-7"><a href="modulo-1.html#cb22-7" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Precio promedio de la Maracuya&#39;</span>, xlabel<span class="op">=</span><span class="st">&#39;Fecha&#39;</span>, ylabel<span class="op">=</span><span class="st">&#39;Precio promedio&#39;</span>)</span>
<span id="cb22-8"><a href="modulo-1.html#cb22-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-7-3.png" width="960" /></p>
</div>
<div id="rezago-y-estacionalidad" class="section level4 hasAnchor" number="3.2.1.2">
<h4><span class="header-section-number">3.2.1.2</span> Rezago y Estacionalidad<a href="modulo-1.html#rezago-y-estacionalidad" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="modulo-1.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb23-2"><a href="modulo-1.html#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="modulo-1.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una figura con subplots de 3 por 3</span></span>
<span id="cb23-4"><a href="modulo-1.html#cb23-4" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">3</span>, ncols<span class="op">=</span><span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">12</span>))</span>
<span id="cb23-5"><a href="modulo-1.html#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="modulo-1.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizar un bucle para crear una gráfica separada para cada rezago</span></span>
<span id="cb23-7"><a href="modulo-1.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">10</span>):</span>
<span id="cb23-8"><a href="modulo-1.html#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calcular las coordenadas del subplot actual</span></span>
<span id="cb23-9"><a href="modulo-1.html#cb23-9" aria-hidden="true" tabindex="-1"></a>    row <span class="op">=</span> (i <span class="op">-</span> <span class="dv">1</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb23-10"><a href="modulo-1.html#cb23-10" aria-hidden="true" tabindex="-1"></a>    col <span class="op">=</span> (i <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> <span class="dv">3</span></span>
<span id="cb23-11"><a href="modulo-1.html#cb23-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-12"><a href="modulo-1.html#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Obtener el eje correspondiente al subplot actual</span></span>
<span id="cb23-13"><a href="modulo-1.html#cb23-13" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> axes[row, col]</span>
<span id="cb23-14"><a href="modulo-1.html#cb23-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-15"><a href="modulo-1.html#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Graficar el scatterplot del rezago actual</span></span>
<span id="cb23-16"><a href="modulo-1.html#cb23-16" aria-hidden="true" tabindex="-1"></a>    sns.scatterplot(data<span class="op">=</span>df_precios_historicos, x<span class="op">=</span><span class="st">&#39;prom_valle&#39;</span>, y<span class="op">=</span>df_precios_historicos[<span class="st">&#39;prom_valle&#39;</span>].shift(i), color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb23-17"><a href="modulo-1.html#cb23-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-18"><a href="modulo-1.html#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Agregar línea diagonal</span></span>
<span id="cb23-19"><a href="modulo-1.html#cb23-19" aria-hidden="true" tabindex="-1"></a>    ax.plot(ax.get_xlim(), ax.get_ylim(), ls<span class="op">=</span><span class="st">&quot;--&quot;</span>, c<span class="op">=</span><span class="st">&quot;.3&quot;</span>)</span>
<span id="cb23-20"><a href="modulo-1.html#cb23-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-21"><a href="modulo-1.html#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Configurar título y etiquetas de los ejes</span></span>
<span id="cb23-22"><a href="modulo-1.html#cb23-22" aria-hidden="true" tabindex="-1"></a>    ax.<span class="bu">set</span>(title<span class="op">=</span><span class="ss">f&#39;Rezago t-</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">&#39;</span>, xlabel<span class="op">=</span><span class="st">&#39;Valor en t&#39;</span>, ylabel<span class="op">=</span><span class="ss">f&#39;Valor en t-</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb23-23"><a href="modulo-1.html#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="modulo-1.html#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar los subplots</span></span>
<span id="cb23-25"><a href="modulo-1.html#cb23-25" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb23-26"><a href="modulo-1.html#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="modulo-1.html#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar la gráfica</span></span>
<span id="cb23-28"><a href="modulo-1.html#cb23-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-8-5.png" width="1152" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="modulo-1.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtener la serie de tiempo</span></span>
<span id="cb24-2"><a href="modulo-1.html#cb24-2" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> df_precios_historicos[<span class="st">&#39;prom_valle&#39;</span>]</span>
<span id="cb24-3"><a href="modulo-1.html#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="modulo-1.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de autocorrelación</span></span>
<span id="cb24-5"><a href="modulo-1.html#cb24-5" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb24-6"><a href="modulo-1.html#cb24-6" aria-hidden="true" tabindex="-1"></a>plot_acf(serie, ax<span class="op">=</span>ax, lags<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb24-7"><a href="modulo-1.html#cb24-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-9-7.png" width="960" /></p>
</div>
</div>
<div id="estructura-de-los-datos-en-series-de-tiempo-precios-passion" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Estructura de los datos en series de tiempo (precios Passion)<a href="modulo-1.html#estructura-de-los-datos-en-series-de-tiempo-precios-passion" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="medias-moviles-1" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Medias Moviles<a href="modulo-1.html#medias-moviles-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="modulo-1.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb25-2"><a href="modulo-1.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tsa.seasonal <span class="im">import</span> seasonal_decompose</span>
<span id="cb25-3"><a href="modulo-1.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb25-4"><a href="modulo-1.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.graphics.tsaplots <span class="im">import</span> plot_acf</span>
<span id="cb25-5"><a href="modulo-1.html#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="modulo-1.html#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="modulo-1.html#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminar valores faltantes</span></span>
<span id="cb25-8"><a href="modulo-1.html#cb25-8" aria-hidden="true" tabindex="-1"></a>df_precios_passion.fillna(df_precios_passion.mean(), inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-9"><a href="modulo-1.html#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="modulo-1.html#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular promedio móvil</span></span></code></pre></div>
<pre><code>## &lt;string&gt;:1: FutureWarning: DataFrame.mean and DataFrame.median with numeric_only=None will include datetime64 and datetime64tz columns in a future version.
## &lt;string&gt;:1: FutureWarning: Dropping of nuisance columns in DataFrame reductions (with &#39;numeric_only=None&#39;) is deprecated; in a future version this will raise TypeError.  Select only valid columns before calling the reduction.</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="modulo-1.html#cb27-1" aria-hidden="true" tabindex="-1"></a>df_precios_passion[<span class="st">&#39;promedio_movil&#39;</span>] <span class="op">=</span> df_precios_passion[<span class="st">&#39;VALOR KILO&#39;</span>].rolling(window<span class="op">=</span><span class="dv">3</span>).mean()</span>
<span id="cb27-2"><a href="modulo-1.html#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="modulo-1.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de la serie de tiempo con el promedio móvil</span></span>
<span id="cb27-4"><a href="modulo-1.html#cb27-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb27-5"><a href="modulo-1.html#cb27-5" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>df_precios_passion, x<span class="op">=</span><span class="st">&#39;FECHA&#39;</span>, y<span class="op">=</span><span class="st">&#39;VALOR KILO&#39;</span>, color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb27-6"><a href="modulo-1.html#cb27-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>df_precios_passion, x<span class="op">=</span><span class="st">&#39;FECHA&#39;</span>, y<span class="op">=</span><span class="st">&#39;promedio_movil&#39;</span>, color<span class="op">=</span><span class="st">&#39;red&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb27-7"><a href="modulo-1.html#cb27-7" aria-hidden="true" tabindex="-1"></a>ax.<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Precio promedio de la Maracuya&#39;</span>, xlabel<span class="op">=</span><span class="st">&#39;Fecha&#39;</span>, ylabel<span class="op">=</span><span class="st">&#39;Precio promedio&#39;</span>)</span>
<span id="cb27-8"><a href="modulo-1.html#cb27-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-10-9.png" width="960" /></p>
</div>
<div id="rezago-y-estacionalidad-1" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Rezago y Estacionalidad<a href="modulo-1.html#rezago-y-estacionalidad-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="modulo-1.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb28-2"><a href="modulo-1.html#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="modulo-1.html#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una figura con subplots de 3 por 3</span></span>
<span id="cb28-4"><a href="modulo-1.html#cb28-4" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">3</span>, ncols<span class="op">=</span><span class="dv">3</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">12</span>))</span>
<span id="cb28-5"><a href="modulo-1.html#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="modulo-1.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizar un bucle para crear una gráfica separada para cada rezago</span></span>
<span id="cb28-7"><a href="modulo-1.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">10</span>):</span>
<span id="cb28-8"><a href="modulo-1.html#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calcular las coordenadas del subplot actual</span></span>
<span id="cb28-9"><a href="modulo-1.html#cb28-9" aria-hidden="true" tabindex="-1"></a>    row <span class="op">=</span> (i <span class="op">-</span> <span class="dv">1</span>) <span class="op">//</span> <span class="dv">3</span></span>
<span id="cb28-10"><a href="modulo-1.html#cb28-10" aria-hidden="true" tabindex="-1"></a>    col <span class="op">=</span> (i <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> <span class="dv">3</span></span>
<span id="cb28-11"><a href="modulo-1.html#cb28-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-12"><a href="modulo-1.html#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Obtener el eje correspondiente al subplot actual</span></span>
<span id="cb28-13"><a href="modulo-1.html#cb28-13" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> axes[row, col]</span>
<span id="cb28-14"><a href="modulo-1.html#cb28-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-15"><a href="modulo-1.html#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Graficar el scatterplot del rezago actual</span></span>
<span id="cb28-16"><a href="modulo-1.html#cb28-16" aria-hidden="true" tabindex="-1"></a>    sns.scatterplot(data<span class="op">=</span>df_precios_passion, x<span class="op">=</span><span class="st">&#39;VALOR KILO&#39;</span>, y<span class="op">=</span>df_precios_passion[<span class="st">&#39;VALOR KILO&#39;</span>].shift(i), color<span class="op">=</span><span class="st">&#39;blue&#39;</span>, ax<span class="op">=</span>ax)</span>
<span id="cb28-17"><a href="modulo-1.html#cb28-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-18"><a href="modulo-1.html#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Agregar línea diagonal</span></span>
<span id="cb28-19"><a href="modulo-1.html#cb28-19" aria-hidden="true" tabindex="-1"></a>    ax.plot(ax.get_xlim(), ax.get_ylim(), ls<span class="op">=</span><span class="st">&quot;--&quot;</span>, c<span class="op">=</span><span class="st">&quot;.3&quot;</span>)</span>
<span id="cb28-20"><a href="modulo-1.html#cb28-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb28-21"><a href="modulo-1.html#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Configurar título y etiquetas de los ejes</span></span>
<span id="cb28-22"><a href="modulo-1.html#cb28-22" aria-hidden="true" tabindex="-1"></a>    ax.<span class="bu">set</span>(title<span class="op">=</span><span class="ss">f&#39;Rezago t-</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">&#39;</span>, xlabel<span class="op">=</span><span class="st">&#39;Valor en t&#39;</span>, ylabel<span class="op">=</span><span class="ss">f&#39;Valor en t-</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb28-23"><a href="modulo-1.html#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="modulo-1.html#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustar los subplots</span></span>
<span id="cb28-25"><a href="modulo-1.html#cb28-25" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb28-26"><a href="modulo-1.html#cb28-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-27"><a href="modulo-1.html#cb28-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar la gráfica</span></span>
<span id="cb28-28"><a href="modulo-1.html#cb28-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-11-11.png" width="1152" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="modulo-1.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtener la serie de tiempo</span></span>
<span id="cb29-2"><a href="modulo-1.html#cb29-2" aria-hidden="true" tabindex="-1"></a>serie <span class="op">=</span> df_precios_passion[<span class="st">&#39;VALOR KILO&#39;</span>]</span>
<span id="cb29-3"><a href="modulo-1.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="modulo-1.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de autocorrelación</span></span>
<span id="cb29-5"><a href="modulo-1.html#cb29-5" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb29-6"><a href="modulo-1.html#cb29-6" aria-hidden="true" tabindex="-1"></a>plot_acf(serie, ax<span class="op">=</span>ax, lags<span class="op">=</span><span class="dv">50</span>)</span>
<span id="cb29-7"><a href="modulo-1.html#cb29-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-12-13.png" width="960" /></p>
</div>
</div>
</div>
<div id="unidad-3-preprocesamiento-y-visualización" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Unidad 3: Preprocesamiento y Visualización<a href="modulo-1.html#unidad-3-preprocesamiento-y-visualización" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="preprocesamiento-y-visualización" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Preprocesamiento y visualización<a href="modulo-1.html#preprocesamiento-y-visualización" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="descomposicion" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Descomposicion<a href="modulo-1.html#descomposicion" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="modulo-1.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb30-2"><a href="modulo-1.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb30-3"><a href="modulo-1.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tsa.seasonal <span class="im">import</span> seasonal_decompose</span>
<span id="cb30-4"><a href="modulo-1.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.tsa.stattools <span class="im">import</span> adfuller</span>
<span id="cb30-5"><a href="modulo-1.html#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="modulo-1.html#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar los datos de la serie de tiempo en un DataFrame de pandas</span></span>
<span id="cb30-7"><a href="modulo-1.html#cb30-7" aria-hidden="true" tabindex="-1"></a>df_precios_historicos <span class="op">=</span> pd.read_excel(<span class="st">&quot;historico_precios_maracuya.xlsx&quot;</span>, sheet_name<span class="op">=</span><span class="st">&quot;Hoja1&quot;</span>)</span>
<span id="cb30-8"><a href="modulo-1.html#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="modulo-1.html#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir la columna &#39;fecha&#39; a tipo datetime</span></span>
<span id="cb30-10"><a href="modulo-1.html#cb30-10" aria-hidden="true" tabindex="-1"></a>df_precios_historicos[<span class="st">&#39;fecha&#39;</span>] <span class="op">=</span> pd.to_datetime(df_precios_historicos[<span class="st">&#39;fecha&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>)</span>
<span id="cb30-11"><a href="modulo-1.html#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="modulo-1.html#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Establecer la columna &#39;fecha&#39; como el índice del DataFrame</span></span>
<span id="cb30-13"><a href="modulo-1.html#cb30-13" aria-hidden="true" tabindex="-1"></a>df_precios_historicos.set_index(<span class="st">&#39;fecha&#39;</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-14"><a href="modulo-1.html#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="modulo-1.html#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular el promedio mensual de los precios</span></span>
<span id="cb30-16"><a href="modulo-1.html#cb30-16" aria-hidden="true" tabindex="-1"></a>df_precios_mensuales <span class="op">=</span> df_precios_historicos.resample(<span class="st">&#39;M&#39;</span>).mean()</span>
<span id="cb30-17"><a href="modulo-1.html#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="modulo-1.html#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir el DataFrame a un objeto de series de tiempo</span></span>
<span id="cb30-19"><a href="modulo-1.html#cb30-19" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.Series(df_precios_mensuales[<span class="st">&#39;prom_valle&#39;</span>].values, index<span class="op">=</span>df_precios_mensuales.index)</span>
<span id="cb30-20"><a href="modulo-1.html#cb30-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-21"><a href="modulo-1.html#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Hacer la descomposición</span></span>
<span id="cb30-22"><a href="modulo-1.html#cb30-22" aria-hidden="true" tabindex="-1"></a>decomposition <span class="op">=</span> seasonal_decompose(data)</span>
<span id="cb30-23"><a href="modulo-1.html#cb30-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-24"><a href="modulo-1.html#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar las componentes</span></span>
<span id="cb30-25"><a href="modulo-1.html#cb30-25" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">4</span>, ncols<span class="op">=</span><span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">10</span>), sharex<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-26"><a href="modulo-1.html#cb30-26" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">0</span>].<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Serie de tiempo original&#39;</span>)</span>
<span id="cb30-27"><a href="modulo-1.html#cb30-27" aria-hidden="true" tabindex="-1"></a>data.plot(ax<span class="op">=</span>axes[<span class="dv">0</span>])</span>
<span id="cb30-28"><a href="modulo-1.html#cb30-28" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">1</span>].<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Tendencia&#39;</span>)</span>
<span id="cb30-29"><a href="modulo-1.html#cb30-29" aria-hidden="true" tabindex="-1"></a>decomposition.trend.plot(ax<span class="op">=</span>axes[<span class="dv">1</span>])</span>
<span id="cb30-30"><a href="modulo-1.html#cb30-30" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">2</span>].<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Estacionalidad&#39;</span>)</span>
<span id="cb30-31"><a href="modulo-1.html#cb30-31" aria-hidden="true" tabindex="-1"></a>decomposition.seasonal.plot(ax<span class="op">=</span>axes[<span class="dv">2</span>])</span>
<span id="cb30-32"><a href="modulo-1.html#cb30-32" aria-hidden="true" tabindex="-1"></a>axes[<span class="dv">3</span>].<span class="bu">set</span>(title<span class="op">=</span><span class="st">&#39;Residuos&#39;</span>)</span>
<span id="cb30-33"><a href="modulo-1.html#cb30-33" aria-hidden="true" tabindex="-1"></a>decomposition.resid.plot(ax<span class="op">=</span>axes[<span class="dv">3</span>])</span>
<span id="cb30-34"><a href="modulo-1.html#cb30-34" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb30-35"><a href="modulo-1.html#cb30-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-36"><a href="modulo-1.html#cb30-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizar el test de Dickey-Fuller en los residuos</span></span></code></pre></div>
<p><img src="Propuesta-Bookdown_files/figure-html/unnamed-chunk-13-15.png" width="768" /></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="modulo-1.html#cb31-1" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> adfuller(decomposition.resid.dropna())</span>
<span id="cb31-2"><a href="modulo-1.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;ADF Statistic:&quot;</span>, result[<span class="dv">0</span>])</span></code></pre></div>
<pre><code>## ADF Statistic: -4.414089293690155</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="modulo-1.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;p-value:&quot;</span>, result[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## p-value: 0.00028024630721353635</code></pre>
<ul>
<li><p>ADF Statistic: El valor de -4.41408929369015 es el estadístico ADF obtenido en la prueba. Este valor negativo indica que la serie de tiempo tiene una tendencia decreciente.</p></li>
<li><p>p-value: El valor de 0.0002802463072135418 es el valor p asociado al estadístico ADF. El valor p es utilizado para tomar una decisión sobre la hipótesis nula. En este caso, como el valor p es menor que un nivel de significancia comúnmente utilizado (0.05), se rechaza la hipótesis nula de que la serie de tiempo tiene una raíz unitaria (es no estacionaria). Esto sugiere que la serie de tiempo es estacionaria.</p></li>
</ul>
<p>En resumen, los resultados indican que la serie de tiempo analizada parece ser estacionaria, lo cual es un requisito importante para aplicar algunos modelos de análisis de series de tiempo.</p>
</div>
<div id="conclusiones-de-la-estacionariedad" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> Conclusiones de la Estacionariedad<a href="modulo-1.html#conclusiones-de-la-estacionariedad" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Descomposición de la serie de tiempo: revela patrones interesantes en sus componentes. A continuación, se presenta una descripción de cada uno de ellos:</p>
<ul>
<li><p>Tendencia: Visualmente, se observa una tendencia creciente en la serie de tiempo desde julio de 2021 hasta noviembre de 2022. Esto sugiere que los valores de la serie han experimentado un aumento constante durante ese período.</p></li>
<li><p>Estacionalidad: La serie muestra patrones estacionales distintivos. Específicamente, se observan picos altos en los meses de febrero y marzo, mientras que los meses de mayo y agosto muestran picos bajos. Estos patrones sugieren una estacionalidad regular en la serie, con fluctuaciones consistentes en esos meses específicos cada año.</p></li>
<li><p>Residuos: Al examinar los residuos de la descomposición, se destacan algunos hallazgos interesantes. Se observa un mínimo en septiembre de 2021 y un máximo en septiembre de 2022 en los residuos. Esto indica que hay periodos en los que los valores de la serie se desvían significativamente de la tendencia y la estacionalidad esperadas. Además, entre diciembre de 2021 y junio de 2022, los residuos muestran una línea continua, lo cual sugiere una menor variabilidad o presencia de estructuras sistemáticas en ese intervalo de tiempo.</p></li>
</ul>
<p>En resumen, la descomposición revela una tendencia creciente en la serie de tiempo, estacionalidades distintivas en ciertos meses y patrones interesantes en los residuos. Estos hallazgos respaldan la presencia de componentes estructurales en los datos y pueden ser útiles para comprender mejor el comportamiento de la serie a lo largo del tiempo.</p></li>
<li><p>El estadístico ADF obtenido en la prueba es de -4.41408929369015. Un valor negativo para este estadístico indica la presencia de una tendencia decreciente en la serie de tiempo. Por otro lado, el valor p asociado al estadístico ADF es de 0.0002802463072135418. El valor p se utiliza para evaluar la hipótesis nula de que la serie de tiempo tiene una raíz unitaria, lo que indica no estacionariedad. En este caso, como el valor p es menor que el nivel de significancia comúnmente utilizado (0.05), se rechaza la hipótesis nula, lo que sugiere que la serie de tiempo es estacionaria.</p>
<p>En resumen, los resultados indican que la serie de tiempo analizada parece exhibir estacionariedad, lo cual es un requisito importante para aplicar diversos modelos de análisis de series de tiempo.</p></li>
</ol>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="prediccion-del-precio-de-la-maracuya-para-el-valle-del-cauca.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modulo-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
